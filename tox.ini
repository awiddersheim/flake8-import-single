[tox]
envlist = py27, py34, py35, py36, py37
skip_missing_interpreters = true

[testenv]
passenv = PYTEST_*
extras = dev
commands = coverage run -m pytest {posargs}

[testenv:flake8]
basepython = python3
extras = dev
commands = flake8 flake8_import_single tests {posargs}

[testenv:check_readme]
basepython = python3
skip_install = true
commands = python setup.py check -r -m -s

[testenv:build]
basepython = python3
skip_install = true
deps =
    wheel
    setuptools
commands = python setup.py {posargs} sdist bdist_wheel
